<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ 2025 - Ù…Ø¬Ù„Ø³ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø¹Ù„Ù‰</title>
  <style>
    body {
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      margin: 0;
      padding: 0;
      background: #d3d3d3;
      text-align: center;
    }
    header {
      background: #fff;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 {
      margin: 0;
    }
    #candidates-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 20px;
    }
    .candidate {
      background: white;
      border-radius: 10px;
      width: 180px;
      margin: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .candidate:hover {
      transform: scale(1.05);
    }
    .candidate img {
      width: 100%;
      border-radius: 10px 10px 0 0;
    }
    .candidate .info {
      padding: 10px;
    }
    .candidate .info h3 {
      margin: 5px 0;
    }
    .candidate .info p {
      color: #03040E;
      font-size: 14px;
      margin: 0;
    }
    .result-bar {
      background: #03040E;
      border-radius: 20px;
      height: 20px;
      margin-top: 5px;
      overflow: hidden;
    }
    .result-bar-fill {
      background: #03040E;
      height: 100%;
      color: white;
      text-align: right;
      padding-right: 5px;
      border-radius: 20px;
    }
    .success {
      background: #03040E;
      color: #ffffff;
      padding: 15px;
      border-radius: 8px;
      margin: 20px auto;
      width: fit-content;
    }
    .captcha {
      margin: 30px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background: #03040E;
      color: white;
      border: none;
      border-radius: 6px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <header>
    <h1>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„ØªØµÙˆÙŠØª</h1>
    <p>Ø§Ø®ØªØ± Ù…Ø±Ø´Ø­Ùƒ Ø¨Ø¹Ù†Ø§ÙŠØ©</p>
  </header>

  <main id="main-content">
    <div id="candidates-container"></div>
  </main>

  <script>
    const candidates = [
      { id: 1, name: "ÙÙ‡Ø¯ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ", date: "26 Ø§ÙƒØªÙˆØ¨Ø± 2023", img: "https://via.placeholder.com/200x150" },
      { id: 2, name: "Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù‡Ø°Ù„ÙŠ", date: "3 Ø£ØºØ³Ø·Ø³ 2022", img: "https://via.placeholder.com/200x150" },
      { id: 3, name: "Ø³Ø¹ÙˆØ¯ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù†Ø²ÙŠ", date: "8 ÙØ¨Ø±Ø§ÙŠØ± 2023", img: "https://via.placeholder.com/200x150" },
      { id: 4, name: "ÙÙŠØµÙ„ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø¥Ù„Ù‡ Ø§Ù„Ø´Ø±ÙŠÙ", date: "29 Ù…Ø§ÙŠÙˆ 2022", img: "https://via.placeholder.com/200x150" },
      { id: 5, name: "Ù†Ø§ÙŠÙ Ø¨Ù† Ø³Ø¹ÙˆØ¯ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ", date: "16 Ø³Ø¨ØªÙ…Ø¨Ø± 2023 ", img: "https://via.placeholder.com/200x150" },
      { id: 6, name: "Ù†Ø§ÙŠÙ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø±ÙŠÙ", date: "7 ÙŠÙ†Ø§ÙŠØ± 2022", img: "https://via.placeholder.com/200x150" },
      { id: 7, name: "Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø·Ø§Ø±Ù‚", date: "13 Ù†ÙˆÙÙ…Ø¨Ø± 2021 ", img: "https://via.placeholder.com/200x150" },
      { id: 8, name: "Ù…Ø´Ø§Ø±ÙŠ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù…ÙŠØ¯ Ø§Ù„Ù…Ø¸ÙŠØ¨Ø±ÙŠ", date: "19 Ù…Ø§ÙŠÙˆ 2022", img: "https://via.placeholder.com/200x150" },
      { id: 9, name: "ÙŠØ§Ø³Ø± Ø¨Ù† ÙÙ‡Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ", date: "29 Ø¯ÙŠØ³Ù…Ø¨Ø± 2023", img: "https://via.placeholder.com/200x150" },
      { id: 10, name: "Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø±Ø§ÙƒØ§Ù† Ø§Ù„Ø´Ø±ÙŠÙ", date: "1 Ù…Ø§ÙŠÙˆ 2022", img: "https://via.placeholder.com/200x150" }
    ];

    const votes = JSON.parse(localStorage.getItem('votes') || '{}');
    let selectedCandidateId = null;
    const main = document.getElementById("main-content");

    function renderCandidates() {
      const container = document.getElementById("candidates-container");
      container.innerHTML = "";
      candidates.forEach(candidate => {
        const div = document.createElement("div");
        div.className = "candidate";
        div.innerHTML = `
          <img src="${candidate.img}" alt="${candidate.name}">
          <div class="info">
            <h3>${candidate.name}</h3>
            <p>${candidate.date}</p>
          </div>
        `;
        div.onclick = () => {
          selectedCandidateId = candidate.id;
          showCaptcha();
        };
        container.appendChild(div);
      });
    }

    function showCaptcha() {
      main.innerHTML = `
        <div class="captcha">
          <h2>ØªØ­Ù‚Ù‚ Ø£Ù†Ùƒ Ù„Ø³Øª Ø±ÙˆØ¨ÙˆØª</h2>
          <p><input type="checkbox" id="captcha-check">Ø£Ù†Ø§ Ù„Ø³Øª Ø±ÙˆØ¨ÙˆØª</p>
          <button onclick="submitVote()">ØªØµÙˆÙŠØª</button>
        </div>
      `;
    }

    function submitVote() {
      const checked = document.getElementById("captcha-check").checked;
      if (!checked) return alert("ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ø§Ù‹");
      if (!votes[selectedCandidateId]) votes[selectedCandidateId] = 0;
      votes[selectedCandidateId]++;
      localStorage.setItem("votes", JSON.stringify(votes));
      showResults();
    }

    function showResults() {
      const resultArray = candidates.map(c => {
        return {
          ...c,
          vote: votes[c.id] || 0
        };
      }).sort((a, b) => b.vote - a.vote);

      const totalVotes = resultArray.reduce((sum, c) => sum + c.vote, 0) || 1;

      main.innerHTML = `<div class="success">âœ… ØªÙ… Ø§Ù„ØªØµÙˆÙŠØª Ø¨Ù†Ø¬Ø§Ø­</div><h2>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØµÙˆÙŠØª</h2>`;
      resultArray.forEach(c => {
        const percent = ((c.vote / totalVotes) * 100).toFixed(1);
        main.innerHTML += `
          <div style="margin: 10px auto; width: 80%; text-align: right;">
            <strong>${c.name}</strong> - ${percent}%
            <div class="result-bar">
              <div class="result-bar-fill" style="width:${percent}%;">${c.vote} ØµÙˆØª</div>
            </div>
          </div>
        `;
      });
    }

    renderCandidates();
    function submitVote() {
  const checked = document.getElementById("captcha-check").checked;
  if (!checked) return alert("ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ø§Ù‹");

  // ğŸ”’ ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø³Ø¨Ù‚ ÙˆØµÙˆÙ‘Øª
  if (localStorage.getItem('hasVoted') === 'true') {
    alert("Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø§Ù„ØªØµÙˆÙŠØª Ù…Ø³Ø¨Ù‚Ù‹Ø§. Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØµÙˆÙŠØª Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
    return;
  }

  if (!votes[selectedCandidateId]) votes[selectedCandidateId] = 0;
  votes[selectedCandidateId]++;
  localStorage.setItem("votes", JSON.stringify(votes));

  // ğŸ§  ØªØ³Ø¬ÙŠÙ„ Ø£Ù†Ù‡ ØªÙ… Ø§Ù„ØªØµÙˆÙŠØª
  localStorage.setItem('hasVoted', 'true');

  showResults();
}

  </script>

</body>
</html>
